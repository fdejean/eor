---
import DashboardLayout from '../layouts/DashboardLayout.astro';
import SentimentSpikesWidget from '../components/dashboard/SentimentSpikesWidget';
import ClusterDistributionWidget from '../components/dashboard/ClusterDistributionWidget';
import SeasonalEmotionWidget from '../components/dashboard/SeasonalEmotionWidget';
import EventImpactWidget from '../components/dashboard/EventImpactWidget';
import GalaxyPreviewWidget from '../components/dashboard/GalaxyPreviewWidget';
import { Button } from '../components/ui/button';
---

<DashboardLayout title="Echoes of Reality â€” Dashboard" description="Explore the Reddit hyperlink network and its correlation with real-world events">
  <!-- Top Bar -->
  <header class="border-b border-border/50 bg-card/30 backdrop-blur-sm px-8 py-4 flex items-center justify-between sticky top-0 z-10">
    <div class="flex items-center gap-4 flex-1">
      <div class="relative flex-1 max-w-md">
        <input 
          type="search" 
          placeholder="Search subreddits..." 
          class="w-full px-4 py-2 rounded-lg bg-input border border-border/50 text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-smooth"
        />
      </div>
      <Button variant="outline" size="sm" class="font-data">
        2014-2016
      </Button>
    </div>
    
    <div class="flex items-center gap-3">
      <Button variant="ghost" size="sm">
        ðŸŒ™ Dark
      </Button>
    </div>
  </header>

  <!-- Dashboard Grid -->
  <div class="flex-1 p-8 overflow-auto">
    <div class="mb-6">
      <h2 class="text-3xl font-bold">Dashboard</h2>
      <p class="text-muted-foreground mt-1">
        Explore how Reddit reflects the physical world through data
      </p>
    </div>

    <!-- Widget Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 auto-rows-min">
      <!-- Sentiment Spikes - spans 2 columns -->
      <div class="lg:col-span-2">
        <SentimentSpikesWidget client:load />
      </div>
      
      <!-- Seasonal Emotion -->
      <div>
        <SeasonalEmotionWidget client:load />
      </div>
      
      <!-- Cluster Distribution -->
      <div>
        <ClusterDistributionWidget client:load />
      </div>
      
      <!-- Event Impact - spans 2 columns -->
      <div class="lg:col-span-2">
        <EventImpactWidget client:load />
      </div>
      
      <!-- Galaxy Preview -->
      <div>
        <GalaxyPreviewWidget client:load />
      </div>
    </div>

    <!-- Footer -->
    <footer class="mt-12 pt-8 border-t border-border/30 text-center text-sm text-muted-foreground">
      <p>
        Data from <a href="http://snap.stanford.edu/data/soc-RedditHyperlinks.html" class="text-primary hover:underline" target="_blank">Stanford SNAP</a> 
        Â· Built with Astro + React + Recharts
      </p>
      <p class="mt-2 text-xs">
        Echoes of Reality Â© 2025 Â· A data journalism exploration
      </p>
    </footer>
  </div>
</DashboardLayout>
